import{c as V,a as s,b as o,w as i,d as k,r as t,e as p,u as h,o as x}from"./index-D6XfGlWg.js";import{u as C}from"./user-bSK34LHc.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as a}from"./function-call-DfxdXIrz.js";import"./index-C0Zqfgkc.js";import"./api-CqIw8Mru.js";import"./mount-component-CAUN_HIz.js";const S={class:"login-page"},B={class:"login-container"},N={class:"login-logo"},U={class:"submit-btn"},j={__name:"Login",setup(q){const u=h(),d=C(),n=p(""),l=p(""),c=async v=>{a({type:"loading",message:"登录中...",forbidClick:!0,duration:0});try{const e=await d.login({username:n.value,password:l.value});e.success?(a({type:"success",message:e.message}),u.push("/")):a({type:"fail",message:e.message})}catch{a({type:"fail",message:"登录失败，请稍后再试"})}},_=()=>{u.back()};return(v,e)=>{const g=t("van-nav-bar"),f=t("van-image"),m=t("van-field"),b=t("van-cell-group"),y=t("van-button"),w=t("van-form");return x(),V("div",S,[s(g,{title:"用户登录","left-arrow":"",onClickLeft:_,fixed:""}),o("div",B,[o("div",N,[s(f,{width:"80",height:"80",src:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",round:""}),e[2]||(e[2]=o("h2",null,"新闻资讯",-1))]),s(w,{onSubmit:c,class:"login-form"},{default:i(()=>[s(b,{inset:""},{default:i(()=>[s(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),name:"username",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),s(m,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),o("div",U,[s(y,{round:"",block:"",type:"primary","native-type":"submit",size:"large"},{default:i(()=>[...e[3]||(e[3]=[k(" 登录 ",-1)])]),_:1})]),e[4]||(e[4]=o("div",{class:"login-tips"},[o("p",null,"测试账号：admin"),o("p",null,"测试密码：123456")],-1))]),_:1})])])}}},F=L(j,[["__scopeId","data-v-8e6be880"]]);export{F as default};
